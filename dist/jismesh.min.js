!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.jismesh=o():t.jismesh=o()}(window,function(){return function(t){var o={};function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(n,r,function(o){return t[o]}.bind(null,r));return n},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){t.exports=e(1)},function(t,o,e){"use strict";const n=40/60,r=1,s=5/60,u=.125,c=30/3600,a=.0125,h=15/3600,i=.00625,f=7.5/3600,w=.003125,l=3.75/3600,d=.0015625,p=40/120,M=.5,L=40/240,b=.25,A=40/300,I=.2,g=4/60,y=.1,j=2.5/60,m=.0625,x=2/60,v=.05,S=2.5/120,O=.03125,P=1/60,_=.025;function E(t,o){const e=Math.floor(t/n),r=Math.floor(o),s=String(100*e+(r-100));return{south:e*n,west:r,code:s}}function $(t,o){const e=E(t,o),n=Math.floor((t-e.south)/s),r=Math.floor((o-e.west)/u),c=e.code+(10*n+r);return{south:e.south+n*s,west:e.west+r*u,code:c}}function k(t,o){const e=$(t,o),n=Math.floor((t-e.south)/c),r=Math.floor((o-e.west)/a),s=e.code+(10*n+r);return{south:e.south+n*c,west:e.west+r*a,code:s}}function R(t,o){const e=k(t,o),n=Math.floor((t-e.south)/h),r=Math.floor((o-e.west)/i),s=e.code+(2*n+r+1);return{south:e.south+n*h,west:e.west+r*i,code:s}}function T(t,o){const e=R(t,o),n=Math.floor((t-e.south)/f),r=Math.floor((o-e.west)/w),s=e.code+(2*n+r+1);return{south:e.south+n*f,west:e.west+r*w,code:s}}function U(t,o){const e=E(t,o),n=Math.floor((t-e.south)/p),r=Math.floor((o-e.west)/M),s=e.code+(2*n+r+1);return{south:e.south+n*p,west:e.west+r*M,code:s}}function C(t,o){const e=E(t,o),n=Math.floor((t-e.south)/g),r=Math.floor((o-e.west)/y),s=e.code+(10*n+r)+"6";return{south:e.south+n*g,west:e.west+r*y,code:s}}function q(t,o){const e=$(t,o),n=Math.floor((t-e.south)/j),r=Math.floor((o-e.west)/m),s=e.code+(2*n+r+1);return{south:e.south+n*j,west:e.west+r*m,code:s}}const z={1:E,2:$,3:k,4:R,5:T,6:function(t,o){const e=T(t,o),n=Math.floor((t-e.south)/l),r=Math.floor((o-e.west)/d);return{code:e.code+(2*n+r+1)}},40000:U,20000:function(t,o){const e=U(t,o),n=Math.floor((t-e.south)/L),r=Math.floor((o-e.west)/b);return{code:e.code+(2*n+r+1)+"5"}},16000:function(t,o){const e=E(t,o),n=Math.floor((t-e.south)/A),r=Math.floor((o-e.west)/I);return{code:e.code+(2*n*10+2*r)+"7"}},8000:C,5000:q,4000:function(t,o){const e=C(t,o),n=Math.floor((t-e.south)/x),r=Math.floor((o-e.west)/v);return{code:e.code+(2*n+r+1)+"7"}},2500:function(t,o){const e=q(t,o),n=Math.floor((t-e.south)/S),r=Math.floor((o-e.west)/O);return{code:e.code+(2*n+r+1)+"6"}},2000:function(t,o){const e=$(t,o),n=Math.floor((t-e.south)/P),r=Math.floor((o-e.west)/_);return{code:e.code+(2*n*10+2*r)+"5"}}};function B(t){switch((t=String(t)).length){case 4:return 1;case 5:return 4e4;case 6:return 2;case 7:switch(t.charAt(6)){case"1":case"2":case"3":case"4":return 5e3;case"6":return 8e3;case"5":return 2e4;case"7":return 16e3}break;case 8:return 3;case 9:switch(t.charAt(8)){case"1":case"2":case"3":case"4":return 4;case"5":return 2e3;case"6":return 2500;case"7":return 4e3}break;case 10:switch(t.charAt(9)){case"1":case"2":case"3":case"4":return 5}break;case 11:switch(t.charAt(10)){case"1":case"2":case"3":case"4":return 6}}throw new Error(`Unsupported mesh code: ${t}`)}function D(t){const o=parseInt(t.substring(0,2)),e=parseInt(t.substring(2,4));return{south:o*n,west:e*r+100,unitLat:n,unitLon:r}}function F(t){const o=D(t),e=parseInt(t.charAt(4)),n=parseInt(t.charAt(5)),r=s,c=u;return{south:o.south+e*r,west:o.west+n*c,unitLat:r,unitLon:c}}function G(t){const o=F(t),e=parseInt(t.charAt(6)),n=parseInt(t.charAt(7)),r=c,s=a;return{south:o.south+e*r,west:o.west+n*s,unitLat:r,unitLon:s}}function H(t){const o=G(t),e=parseInt(t.charAt(8))-1,n=Math.floor(e/2),r=e%2,s=h,u=i;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}}function J(t){const o=H(t),e=parseInt(t.charAt(9))-1,n=Math.floor(e/2),r=e%2,s=f,u=w;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}}function K(t){const o=D(t),e=parseInt(t.charAt(4))-1,n=Math.floor(e/2),r=e%2,s=p,u=M;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}}function N(t){const o=D(t),e=parseInt(t.charAt(4)),n=parseInt(t.charAt(5)),r=g,s=y;return{south:o.south+e*r,west:o.west+n*s,unitLat:r,unitLon:s}}function Q(t){const o=F(t),e=parseInt(t.charAt(6))-1,n=Math.floor(e/2),r=e%2,s=j,u=m;return{south:o.south+n*j,west:o.west+r*m,unitLat:s,unitLon:u}}const V={1:D,2:F,3:G,4:H,5:J,6:function(t){const o=J(t),e=parseInt(t.charAt(10))-1,n=Math.floor(e/2),r=e%2,s=l,u=d;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}},40000:K,20000:function(t){const o=K(t),e=parseInt(t.charAt(5))-1,n=Math.floor(e/2),r=e%2,s=L,u=b;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}},16000:function(t){const o=D(t),e=parseInt(t.charAt(4))/2,n=parseInt(t.charAt(5))/2,r=A,s=I;return{south:o.south+e*r,west:o.west+n*s,unitLat:r,unitLon:s}},8000:N,5000:Q,4000:function(t){const o=N(t),e=parseInt(t.charAt(7))-1,n=Math.floor(e/2),r=e%2,s=x,u=v;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}},2500:function(t){const o=Q(t),e=parseInt(t.charAt(7))-1,n=Math.floor(e/2),r=e%2,s=S,u=O;return{south:o.south+n*s,west:o.west+r*u,unitLat:s,unitLon:u}},2000:function(t){const o=F(t),e=parseInt(t.charAt(6))/2,n=parseInt(t.charAt(7))/2,r=P,s=_;return{south:o.south+e*r,west:o.west+n*s,unitLat:r,unitLon:s}}};t.exports={toMeshCode:function(t,o,e){if(t<0||66.66<=t)throw new RangeError(`Latitude is out of bound: ${t}`);if(o<100||180<=o)throw new RangeError(`Longitude is out of bound: ${o}`);const n=z[e];if(!n)throw new RangeError(`Unsupported level: ${e}`);return n(t,o).code},toMeshPoint:function(t,o=0,e=0){const n=B(t=String(t)),{south:r,west:s,unitLat:u,unitLon:c}=V[n](t);return[r+o*u,s+e*c]},toMeshLevel:B}}])});
//# sourceMappingURL=jismesh.min.js.map